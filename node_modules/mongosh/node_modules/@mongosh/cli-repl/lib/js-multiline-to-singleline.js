"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeMultilineJSIntoSingleLine = void 0;
const core_1 = require("@babel/core");
function makeMultilineJSIntoSingleLine(src) {
    var _a, _b;
    let postASI;
    try {
        postASI = (_b = (_a = core_1.transformSync(src, {
            retainLines: true,
            compact: false,
            code: true,
            comments: false
        })) === null || _a === void 0 ? void 0 : _a.code) !== null && _b !== void 0 ? _b : src;
    }
    catch (_c) {
        postASI = src;
    }
    const asSingleLine = postASI.split(/[\r\n]+/g)
        .map(line => line.trim())
        .join(' ')
        .trim();
    return src.trim().endsWith(';') ? asSingleLine : asSingleLine.replace(/;$/, '');
}
exports.makeMultilineJSIntoSingleLine = makeMultilineJSIntoSingleLine;
//# sourceMappingURL=js-multiline-to-singleline.js.map